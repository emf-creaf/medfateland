<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Package overview • medfateland</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Package overview">
<meta property="og:description" content="medfateland">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medfateland</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Package overview</h1>
                        <h4 data-toc-skip class="author">Miquel De
Caceres</h4>
            
            <h4 data-toc-skip class="date">2024-06-03</h4>
      
      
      <div class="hidden name"><code>PackageOverview.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The R package <strong>medfateland</strong> (v. 2.4.3) has been
designed to facilitate running simulations of forest function and
dynamics at the landscape to regional scales. The package allows
executing the stand-level models available in the R package
<strong>medfate</strong> on specific locations within a landscape, using
either sequential or parallel computation. Spatial units are uncoupled
in those simulations, where only local processes are represented. In
addition, <strong>medfateland</strong> provides other functions that
allow performing model simulations while accounting for processes
relating different spatial units, such as lateral water transfer or seed
dispersal.</p>
</div>
<div class="section level2">
<h2 id="data-structures">Data structures<a class="anchor" aria-label="anchor" href="#data-structures"></a>
</h2>
<div class="section level3">
<h3 id="spatial-structures">Spatial structures<a class="anchor" aria-label="anchor" href="#spatial-structures"></a>
</h3>
<p>In previous versions of <strong>medfateland</strong> package, data
structures depended on package <strong>sp</strong>. Current versions of
<strong>medfateland</strong> (ver. &gt; 2.0.0) extensively use package
<strong>sf</strong> (simple features) to represent spatial structures,
where rows correspond to spatial units (normally point geometries) and
columns include either model inputs (forest, soil, weather forcing) or
model outputs. For simulations including lateral water transfer
processes, spatial units need to conform to an incomplete or complete
grid. In these cases, an additional input in form of a raster topology
from package <strong>terra</strong> is required to specify the
neighborhood between adjacent cells and cell size. Both spatial inputs
need to share the coordinate projection system and there has to be an
unambiguous correspondence between grid cells and <strong>sf</strong>
rows.</p>
</div>
<div class="section level3">
<h3 id="land-cover-types">Land cover types<a class="anchor" aria-label="anchor" href="#land-cover-types"></a>
</h3>
<p>Five kinds of land cover are recognized in
<strong>medfateland</strong>, which determine the set of local or
landscape processes that are represented:</p>
<ol style="list-style-type: lower-alpha">
<li>
<em>wildland</em>: forests, shrublands or grasslands.</li>
<li>
<em>agriculture</em>: agricultural lands.</li>
<li>
<em>rock</em>: rock outcrops.</li>
<li>
<em>artificial</em>: urban areas.</li>
<li>
<em>water</em>: water bodies.</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="processes-and-simulation-functions">Processes and simulation functions<a class="anchor" aria-label="anchor" href="#processes-and-simulation-functions"></a>
</h2>
<p>The figure below provides an overview of simulation functions in
<strong>medfateland</strong> and the processes available for each of
them. Colored squares below each simulation function indicate the
processes included.</p>
<p><img src="Package_design_medfateland.png" width="70%" style="display: block; margin: auto;"></p>
<p>The following details processes and functions. A complete
documentation on the design and formulation of the simulation models and
their inputs can be found at the <a href="https://emf-creaf.github.io/medfatebook/index.html" class="external-link">medfate
reference book</a>.</p>
<div class="section level3">
<h3 id="local-and-landscape-processes">Local and landscape processes<a class="anchor" aria-label="anchor" href="#local-and-landscape-processes"></a>
</h3>
<p>The processes represented in simulations with
<strong>medfateland</strong> can be divided between <em>local</em> and
<em>landscape</em> processes. Examples of local water processes include
rainfall, canopy interception, infiltration and runoff, percolation and
deep drainage, soil evaporation and plant transpiration. Processes
involved in carbon balance (photosynthesis, respiration) and forest
dynamics are also local. Examples of landscape processes would be
lateral surface flows, sub-surface flows or base flows. Seed dispersal
is another example of landscape-level process, because generates spatial
dependency between spatial units.</p>
<p>Local processes represented in <em>wildland</em> cells are those
described of <strong>medfate</strong> package. Lateral water transfer
processes and seed dispersal can be included in
<strong>medfateland</strong> simulations to add spatial dependencies.
Evapotranspiration and soil hydrology are also represented in
<em>agriculture</em> locations, although in a strongly simplified
manner, and lateral water transfer processes will also influence the
water balance in <em>agriculture</em> locations. The remaining land
covers are not the main focus of <strong>medfateland</strong>. They are
relevant to determine the water transfer between neighboring cells but
do not entail simulation of local processes.</p>
</div>
<div class="section level3">
<h3 id="spatially-uncoupled-simulation-functions">Spatially-uncoupled simulation functions<a class="anchor" aria-label="anchor" href="#spatially-uncoupled-simulation-functions"></a>
</h3>
<p>Package <strong>medfateland</strong> allows performing simulations on
multiple locations in a single function call. In addition, those
simulations can be performed using <strong>parallel computing</strong>,
because of the absence of landscape-level processes that would induce
spatial dependency. Uncoupled simulation functions are detailed in the
following sub-sections and examples are given in vignette <a href="https://emf-creaf.github.io/medfateland/articles/SpatiallyUncoupledSimulations.html" class="external-link">Spatially-uncoupled
simulations</a>.</p>
<div class="section level4">
<h4 id="local-water-balance-functions">Local water balance functions<a class="anchor" aria-label="anchor" href="#local-water-balance-functions"></a>
</h4>
<p>In package <strong>medfate</strong>, the local soil water balance of
a forest is primarily used to predict forest water flows and plant
drought stress; and the main simulation function is called
<code>spwb()</code>. Package <strong>medfateland</strong> extends the
former function by allowing the simulation of soil water balance for
multiple stands distributed spatially over a given time period using
function <code><a href="../reference/spwb_spatial.html">spwb_spatial()</a></code>, which makes internal calls to
<code>spwb()</code> on elements the spatial classes introduced above.
Function <code><a href="../reference/spwb_spatial_day.html">spwb_spatial_day()</a></code> is analogous to the former, but
is used for the simulation of a single day, using internal calls to
function <code>spwb_day()</code> of <strong>medfate</strong>. Function
<code><a href="../reference/spwb_spatial.html">spwb_spatial()</a></code> and its one-day counterpart may be used
to:</p>
<ol style="list-style-type: decimal">
<li>Monitor or forecast temporal variation in soil water content in
particular stands (for example to estimate mushroom yield) or over
continuous areas.</li>
<li>Monitor or forecast temporal variation of plant drought stress in
particular stands (for example to anticipate mortality events) or over
continuous areas.</li>
<li>Monitor or forecast temporal variation of fuel moisture in
particular stands (for example to monitor wildfire risk) or over
continuous areas.</li>
</ol>
</div>
<div class="section level4">
<h4 id="local-carbon-balance-and-plant-growth">Local carbon balance and plant growth<a class="anchor" aria-label="anchor" href="#local-carbon-balance-and-plant-growth"></a>
</h4>
<p>Changes in leaf area, plant density and biomass are key to evaluate
the influence of climatic conditions on forest function and dynamics.
Processes affecting annual changes leaf area and plant size are those
involved water and carbon balances, as well as those affecting growth
directly. Processes influencing plant water balance include those
affecting soil water content, such as rainfall, canopy interception,
infiltration and runoff, percolation and deep drainage, soil evaporation
and plant transpiration. Carbon balance arises from the relationship
between plant photosynthesis and respiration, although carbon reserves
play a role in the availability of carbon for growth. Water and carbon
balances are coupled through the regulation of transpiration done by
stomata. Plant growth is affected by the availability of carbon (source
limitation), but also by temperature and water status (sink limitation).
Leaf area of plants can be severely decreased by drought stress, causing
an increase in dead leaf area and affecting carbon and water fluxes.</p>
<p>Package <strong>medfate</strong> allows simulating carbon balance,
growth and mortality of a set of plant cohorts (competing for light and
water) in a single forest stand using function <code>growth()</code>.
Package <strong>medfateland</strong> extends the former function by
providing function <code><a href="../reference/spwb_spatial.html">growth_spatial()</a></code>, which operates on
spatial classes and makes internal calls to function
<code>growth()</code>. Function <code><a href="../reference/spwb_spatial_day.html">growth_spatial_day()</a></code> is
analogous to the former, but are used for the simulation of a single
day, using internal calls to function <code>growth_day()</code> of
<strong>medfate</strong>. Function <code><a href="../reference/spwb_spatial.html">growth_spatial()</a></code> and its
one-day counterpart may be used to:</p>
<ol style="list-style-type: decimal">
<li>Monitor or forecast temporal variation in water fluxes and soil
water content in particular stands (for example to estimate regulation
ecosystem services) taking into account processes determining plant
growth.</li>
<li>Monitor or forecast temporal variation of plant drought stress in
particular stands(for example to anticipate mortality events) taking
into account processes determining plant growth.</li>
<li>Monitor or forecast temporal variation of live fuel moisture and the
amount of standing dead and live fuels in particular stands (for example
to monitor wildfire risk).</li>
</ol>
</div>
<div class="section level4">
<h4 id="local-forest-dynamics">Local forest dynamics<a class="anchor" aria-label="anchor" href="#local-forest-dynamics"></a>
</h4>
<p>Changes in forest structure and composition result from the interplay
of natural demographic processes (growth, mortality and recruitment) and
natural or anthropogenic disturbances, including the effects of forest
management.</p>
<p>Package <strong>medfate</strong> includes function
<code>fordyn()</code>, which allows simulating these processes at yearly
time steps on a given forest stand, building on previous models. Package
<strong>medfateland</strong> extends the former function by providing
function <code><a href="../reference/spwb_spatial.html">fordyn_spatial()</a></code>, which operates on spatial
classes and make internal calls to function <code>fordyn()</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="spatial-coordination-via-management-scenarios">Spatial coordination via management scenarios<a class="anchor" aria-label="anchor" href="#spatial-coordination-via-management-scenarios"></a>
</h3>
<p>In addition to the former spatially-uncoupled simulation functions,
<strong>medfateland</strong> provides function
<code><a href="../reference/fordyn_scenario.html">fordyn_scenario()</a></code> for landscape to regional-scale
simulations. This function allows performing simulations of forest
function and dynamics for a set of forest stands, while coordinating
management actions in the set of stands following a timber demand-based
approach, which defines the amount of wood to be cut annually for target
tree species. In addition, stands are classified into management units,
which can be associated with different silvicultural practices.
Management decisions (as well as seed dispersal) are evaluated once a
year, which means that the simulation of processes occurring within a
year are spatially uncoupled. For this reason,
<code><a href="../reference/fordyn_scenario.html">fordyn_scenario()</a></code> makes internal calls to
<code><a href="../reference/spwb_spatial.html">fordyn_spatial()</a></code> every year, where local simulations are in
parallel. These kind of simulations are illustrated in vignette <a href="https://emf-creaf.github.io/medfateland/articles/ManagementScenarios.html" class="external-link">Management
scenarios</a>.</p>
</div>
<div class="section level3">
<h3 id="watershed-simulations-including-spatial-processes">Watershed simulations including spatial processes<a class="anchor" aria-label="anchor" href="#watershed-simulations-including-spatial-processes"></a>
</h3>
<p>When input data is in form of continuous spatial variation of forests
over a landscape, typically a watershed, the
<strong>medfateland</strong> package allows performing local process
simulations while accounting for landscape processes. This is done using
functions <code><a href="../reference/spwb_land.html">spwb_land()</a></code>, <code><a href="../reference/spwb_land.html">growth_land()</a></code> and
<code><a href="../reference/spwb_land.html">fordyn_land()</a></code>, which are analogous to
<code><a href="../reference/spwb_spatial.html">spwb_spatial()</a></code>, <code><a href="../reference/spwb_spatial.html">growth_spatial()</a></code> and
<code><a href="../reference/spwb_spatial.html">fordyn_spatial()</a></code>, respectively. Similarly, functions
<code><a href="../reference/spwb_land_day.html">spwb_land_day()</a></code> and <code><a href="../reference/spwb_land_day.html">growth_land_day()</a></code> are
landscape counterparts of <code><a href="../reference/spwb_spatial_day.html">spwb_spatial_day()</a></code> and
<code><a href="../reference/spwb_spatial.html">growth_spatial()</a></code>, respectively.</p>
<p>Importantly, all these functions allow simulating <em>lateral water
transfer processes</em>, for which two alternative sub-models are
possible. A first sub-model, similar to TETIS (Francés et al. 2007) is
offered by default, which includes three lateral water flows that are
solved in simple way:</p>
<ol style="list-style-type: lower-alpha">
<li>Overland surface flows from upslope cells</li>
<li>Lateral saturated soil flows (i.e. interflow) between adjacent
cells</li>
<li>Lateral groundwater flow (i.e. baseflow) between adjacent cells</li>
</ol>
<p>Alternatively, the same water transfer processes can be simulated via
a coupling with SERGHEI (Caviedes-Voullième et al. 2023), a
physically-based distributed hydrologic model with much greater physical
detail. In that case, SERGHEI outputs are generated as files and are not
provided with the output to the function call. Hence, the user is
responsible for accessing and post-processing those outputs.</p>
<p>Functions <code><a href="../reference/spwb_land.html">spwb_land()</a></code> and <code><a href="../reference/spwb_land.html">growth_land()</a></code>
(and their single-day counterparts <code><a href="../reference/spwb_land_day.html">spwb_land_day()</a></code> and
<code><a href="../reference/spwb_land_day.html">growth_land_day()</a></code>) may be used to:</p>
<ol style="list-style-type: decimal">
<li><p>Determine areas where particular plant species have high
vulnerability to suffer from drought stress or fire risk, while
accounting for watershed hydrology.</p></li>
<li>
<p>Partition the total rainfall in given watershed among:</p>
<ol style="list-style-type: lower-roman">
<li>water evaporated from canopy interception or bare soil
evaporation</li>
<li>water transpired by plants</li>
<li>water exported via runoff or deep drainage into the water table and
river streams.</li>
</ol>
</li>
</ol>
<p>Function <code><a href="../reference/spwb_land.html">fordyn_land()</a></code> includes seed dispersal as an
additional landscape process. Similarly to the relationship between
<code>fordyn()</code> and <code>growth()</code>,
<code><a href="../reference/spwb_land.html">fordyn_land()</a></code> makes a call, once a year, to
<code><a href="../reference/spwb_land.html">growth_land()</a></code>, which deals with all daily processes. After
that, dispersal, regeneration and forest management are simulated at the
level of <code><a href="../reference/spwb_land.html">fordyn_land()</a></code>. This function may be used to:</p>
<ol style="list-style-type: decimal">
<li>Determine the effect of forest management alternatives on the forest
function, dynamics and the water production of forested watersheds.</li>
</ol>
<p>Examples of watershed simulations including landscape processes are
given in vignette <a href="https://emf-creaf.github.io/medfateland/articles/WatershedSimulations.html" class="external-link">Watershed
simulations</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Miquel De Cáceres, Aitor Améztegui, María González, Núria Aquilué, Daniel Caviedes-Voullième, Mario Morales-Hernández.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
