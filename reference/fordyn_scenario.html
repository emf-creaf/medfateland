<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Scenario of forest dynamics — fordyn_scenario • medfateland</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Scenario of forest dynamics — fordyn_scenario"><meta property="og:description" content="Evaluates forest dynamics over a landscape including climate and management scenarios"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">medfateland</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Scenario of forest dynamics</h1>
    
    <div class="hidden name"><code>fordyn_scenario.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Evaluates forest dynamics over a landscape including climate and management scenarios</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fordyn_scenario</span><span class="op">(</span></span>
<span>  <span class="va">sf</span>,</span>
<span>  <span class="va">SpParams</span>,</span>
<span>  meteo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">management_scenario</span>,</span>
<span>  volume_function <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  local_control <span class="op">=</span> <span class="fu">defaultControl</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  CO2ByYear <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  summary_function <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  summary_arguments <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallelize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  num_cores <span class="op">=</span> <span class="fu">detectCores</span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sf</dt>
<dd><p>An object of class <code>sf</code> with the following columns:</p><ul><li><p><code>geometry</code>: Spatial geometry.</p></li>
<li><p><code>id</code>: Stand identifiers.</p></li>
<li><p><code>elevation</code>: Elevation above sea level (in m).</p></li>
<li><p><code>slope</code>: Slope (in degrees).</p></li>
<li><p><code>aspect</code>: Aspect (in degrees).</p></li>
<li><p><code>forest</code>: Objects of class <code>forest</code>.</p></li>
<li><p><code>soil</code>: Objects of class <code>soil</code>.</p></li>
<li><p><code>state</code>: Objects of class <code>spwbInput</code> or <code>growthInput</code> (optional).</p></li>
<li><p><code>meteo</code>: Data frames with weather data (required if parameter <code>meteo = NULL</code>).</p></li>
<li><p><code>management_unit</code>: Management unit corresponding to each stand.</p></li>
<li><p><code>represented_area</code>: Area represented by each stand (in hectares).</p></li>
</ul></dd>


<dt>SpParams</dt>
<dd><p>A data frame with species parameters (see <code>SpParamsMED</code>).</p></dd>


<dt>meteo</dt>
<dd><p>Meteorology data (see <code><a href="spwb_spatial.html">fordyn_spatial</a></code>).</p></dd>


<dt>management_scenario</dt>
<dd><p>A list defining the management scenario (see <code><a href="create_management_scenario.html">create_management_scenario</a></code>)</p></dd>


<dt>volume_function</dt>
<dd><p>A function accepting a forest object as input and returning the wood volume (m3/ha) corresponding to each tree cohort.
If NULL, the default volume function is used (not recommended!).</p></dd>


<dt>local_control</dt>
<dd><p>A list of local model control parameters (see <code>defaultControl</code>).</p></dd>


<dt>dates</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Date</a></code> object with the days of the period to be simulated. If <code>NULL</code>, then the whole period of <code>meteo</code> is used.</p></dd>


<dt>CO2ByYear</dt>
<dd><p>A named numeric vector with years as names and atmospheric CO2 concentration (in ppm) as values. Used to specify annual changes in CO2 concentration along the simulation (as an alternative to specifying daily values in <code>meteo</code>).</p></dd>


<dt>summary_function</dt>
<dd><p>An appropriate function to calculate summaries from an object of class 'fordyn' (e.g., <code>summary.fordyn</code>).</p></dd>


<dt>summary_arguments</dt>
<dd><p>List with additional arguments for the summary function.</p></dd>


<dt>parallelize</dt>
<dd><p>Boolean flag to try parallelization (will use all clusters minus one).</p></dd>


<dt>num_cores</dt>
<dd><p>Integer with the number of cores to be used for parallel computation.</p></dd>


<dt>chunk_size</dt>
<dd><p>Integer indicating the size of chunks to be sent to different processes (by default, the number of spatial elements divided by the number of cores).</p></dd>


<dt>progress</dt>
<dd><p>Boolean flag to display progress information for simulations.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An list of class 'fordyn_scenario' with the following elements:</p><ul><li><p><code>sf</code>: An object of class 'sf' containing four elements:
</p><ul><li><p><code>geometry</code>: Spatial geometry.</p></li>
<li><p><code>id</code>: Stand id, taken from the input.</p></li>
<li><p><code>state</code>: A list of <code>spwbInput</code> or <code>growthInput</code> objects for each simulated stand, to be used in subsequent simulations (see <code><a href="update_landscape.html">update_landscape</a></code>).</p></li>
<li><p><code>forest</code>: A list of <code>forest</code> objects for each simulated stand (only in <code>fordynspatial</code>), to be used in subsequent simulations (see <code><a href="update_landscape.html">update_landscape</a></code>).</p></li>
<li><p><code>management_arguments</code>: A list of management arguments for each simulated stand (only in <code>fordynspatial</code>), to be used in subsequent simulations (see <code><a href="update_landscape.html">update_landscape</a></code>).</p></li>
<li><p><code>tree_table</code>: A list of data frames for each simulated stand, containing the living trees at each time step.</p></li>
<li><p><code>shrub_table</code>: A list of data frames for each simulated stand, containing the living shrub at each time step.</p></li>
<li><p><code>dead_tree_table</code>: A list of data frames for each simulated stand, containing the dead trees at each time step.</p></li>
<li><p><code>dead_shrub_table</code>: A list of data frames for each simulated stand, containing the dead shrub at each time step.</p></li>
<li><p><code>cut_tree_table</code>: A list of data frames for each simulated stand, containing the cut trees at each time step.</p></li>
<li><p><code>cut_shrub_table</code>: A list of data frames for each simulated stand, containing the cut shrub at each time step.</p></li>
<li><p><code>summary</code>: A list of model output summaries for each simulated stand (if <code>summary_function</code> was not <code>NULL</code>).</p></li>
</ul></li>
<li><p><code>volumes</code>: A data frame with extracted volumes (m3) by species and year. In demand-based scenarios target volumes are also included.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>Management is implemented using the <code>defaultManagementFunction</code> in medfate,
meaning that management parameters need to follow the structure of <code>defaultManagementArguments</code></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="spwb_spatial.html">fordyn_spatial</a></code>, <code><a href="create_management_scenario.html">create_management_scenario</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Miquel De Cáceres Ainsa, CREAF</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Load example landscape data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"example_ifn"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Load example meteo data frame from package meteoland</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"examplemeteo"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">#Prepare a three-year meteorological data </span></span></span>
<span class="r-in"><span><span class="va">meteo_01_03</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">examplemeteo</span>, <span class="va">examplemeteo</span>, <span class="va">examplemeteo</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">meteo_01_03</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2001-01-01"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                              <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2003-12-31"</span><span class="op">)</span>, by<span class="op">=</span><span class="st">"day"</span><span class="op">)</span></span></span>
<span class="r-in"><span>                         </span></span>
<span class="r-in"><span><span class="co"># Load default medfate parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"SpParamsMED"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Creates scenario with one management unit and annual demand for P. nigra </span></span></span>
<span class="r-in"><span><span class="va">scen</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_management_scenario.html">create_management_scenario</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pinus nigra"</span> <span class="op">=</span> <span class="fl">2300</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Assign management unit to all stands</span></span></span>
<span class="r-in"><span><span class="va">example_ifn</span><span class="op">$</span><span class="va">management_unit</span> <span class="op">&lt;-</span> <span class="fl">1</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Assume that each stand represents 1km2 = 100 ha</span></span></span>
<span class="r-in"><span><span class="va">example_ifn</span><span class="op">$</span><span class="va">represented_area</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Launch simulation scenario</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">fordyn_scenario</span><span class="op">(</span><span class="va">example_ifn</span>, <span class="va">SpParamsMED</span>, meteo <span class="op">=</span> <span class="va">meteo_01_03</span>, </span></span>
<span class="r-in"><span>                       volume_function <span class="op">=</span> <span class="cn">NULL</span>, management_scenario <span class="op">=</span> <span class="va">scen</span>,</span></span>
<span class="r-in"><span>                       parallelize <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Miquel De Cáceres, Aitor Améztegui, Mario Beltrán.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

